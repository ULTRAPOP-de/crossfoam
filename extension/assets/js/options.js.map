{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///.-data/src/index.ts","webpack:///.-data/node_modules/@crossfoam/utils/src/index.ts","webpack:///.-service-twitter/config.js","webpack:///.-service-twitter/src/index.ts","webpack:///.-service-twitter/node_modules/@crossfoam/data/src/index.ts","webpack:///.-service-twitter/node_modules/@crossfoam/utils/src/index.ts","webpack:///.-services/src/index.ts","webpack:///.-services/node_modules/@crossfoam/data/src/index.ts","webpack:///.-services/node_modules/@crossfoam/utils/src/index.ts","webpack:///./src/typescript/options.ts"],"names":[],"mappings":"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","file":"options.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/typescript/options.ts\");\n","import { objEmpty } from \"@crossfoam/utils\";\n\nconst get = (key: string, defaultValue?: any): Promise<any> => {\n\n  return browser.storage.local.get(key)\n    .then( (data: object) => {\n      if (data && data !== null && data !== undefined && !objEmpty(data)) {\n        if (typeof data === \"object\" && key in data) {\n          return data[key];\n        }\n        return data;\n      } else if (defaultValue) {\n        return set(key, defaultValue);\n      } else {\n        return null;\n      }\n    });\n\n};\n\nconst set = (key: string, value: any): Promise<any> => {\n  return browser.storage.local.set({[key]: value})\n    .then(() => {\n      if (typeof value === \"object\" && key in value) {\n        return value[key];\n      }\n      return value;\n    });\n};\n\nconst remove = (key: string): Promise<any> => {\n  return browser.storage.local.remove(key);\n};\n\nexport {get, remove, set};\n","const throttle = (t: number) => {\n  return new Promise((resolve) => {\n      setTimeout(resolve, t);\n  });\n};\n\n// inspired by uuid v4 (shortened) https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n\n/* tslint:disable:no-bitwise */\nconst uuid = (): string => {\n  return \"xxxxxxxx\".replace(/[xy]/g, (c) => {\n    const r = Math.random() * 16 | 0;\n    const v = c === \"x\" ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\n/* tslint:enable:no-bitwise */\n\nconst formatDate = (date: Date, withTime: boolean = false) => {\n  // TODO: Language based formatting of dates\n  const lang: string = \"en\";\n  switch (lang) {\n    case \"de\":\n      return dateNull(date.getDate())\n        + \".\" + dateNull((date.getMonth() + 1))\n        + \".\" + dateNull(date.getFullYear())\n        + ((withTime) ? \" \" + dateNull(date.getHours()) + \":\" + dateNull(date.getMinutes()) : \"\");\n      break;\n    default:\n      return dateNull(date.getFullYear())\n        + \"/\" + dateNull((date.getMonth() + 1))\n        + \"/\" + dateNull(date.getDate())\n        + ((withTime) ? \" \" + dateNull(date.getHours()) + \":\" + dateNull(date.getMinutes()) : \"\");\n      break;\n  }\n};\n\nconst dateNull = (num: number): string => {\n  return (num < 10) ? \"0\" + num : \"\" + num;\n};\n\nconst cleanNumber = (duration: number) => {\n  if (duration === Math.floor(duration)) {\n    return duration;\n  } else if ( parseFloat(duration.toFixed(1)) === parseFloat(duration.toFixed(2))) {\n    return duration.toFixed(1);\n  } else {\n    return duration.toFixed(2);\n  }\n};\n\nconst formatDuration = (duration: number) => {\n  duration = duration / 1000;\n  if (duration < 60) {\n    return Math.floor(duration) +\n      \" \" + browser.i18n.getMessage(\"secondsShort\");\n  } else {\n    duration = duration / 60;\n    if (duration < 60) {\n      return cleanNumber(duration) +\n        \" \" + browser.i18n.getMessage(\"minutesShort\");\n    } else {\n      duration = duration / 60;\n      if (duration < 24) {\n        return cleanNumber(duration) +\n          \" \" + browser.i18n.getMessage(\"hoursShort\");\n      } else {\n        duration = duration / 24;\n        return cleanNumber(duration) +\n          \" \" + browser.i18n.getMessage(\"daysShort\");\n      }\n    }\n  }\n};\n\nconst objEmpty = (obj) => {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          return false;\n        }\n    }\n    return true;\n};\n\nconst downloadFile = (fileData: string, fileType: string,\n                      fileName: string): Promise<any> => {\n\n  const file = new Blob([fileData], {\n    type: fileType,\n  });\n\n  return browser.downloads.download({\n      // window.URL ??\n      filename: fileName,\n      saveAs: true,\n      url: URL.createObjectURL(file),\n    }).then((downloadId) => {\n      return Promise.resolve();\n    }).catch((error) => {\n      throw new Error(\"Download failed. \" + JSON.stringify(error));\n    });\n};\n\nconst debounce = ( func: (...args: any[]) => void,\n                   wait: number = 200,\n                   immediate: boolean = false,\n): (...args: any[]) => void => {\n\n  let timeout = null;\n  let again = false;\n\n  return (...args: any[]) => {\n    const callNow = immediate && timeout === null;\n    const next = () => func.apply( null , args );\n\n    if (timeout === null) {\n      timeout = setTimeout( () => {\n        timeout = null;\n        if ( again ) {\n          next();\n          again = false;\n        }\n      }, wait );\n    } else {\n      again = true;\n    }\n\n    if (callNow) {\n      next();\n    }\n  };\n};\n\nexport {debounce, downloadFile, formatDate, formatDuration, objEmpty, throttle, uuid};\n","export default\n{\n  \"api_key\": \"kePD9gflNGY9JgDgvObYkZqI4\",\n  \"api_secret\": \"gNbCOEvQpfOX8s3toKJUZLGzyDwttsl0yuki43NeCNZiokT5Y5\",\n  \"auth\": true,\n  \"service_name\": \"Twitter\",\n  \"service_key\": \"twitter\",\n  \"queue_functions\":[\n    {\"name\": \"getUser\", \"paramCount\": [1, 1], \"skip\": false, \"passDown\": true, \"timeout\": 60000},\n    {\"name\": \"getUsers\", \"paramCount\": [2, 2], \"skip\": true, \"passDown\": true, \"timeout\": 1000},\n    {\"name\": \"getFriendsIds\", \"paramCount\": [5,5], \"skip\": true, \"passDown\": true, \"timeout\": 60000},\n    {\"name\": \"getFriends\", \"paramCount\": [5,5], \"skip\": true, \"passDown\": true, \"timeout\": 60000}\n  ],\n  \"regex\":/http[s]*:\\/\\/[wwww.]*twitter\\.com\\/((?!(settings|hashtag|status|hashtags|explore|notifications|messages|home|compose|search|tos))[^\\/]{3,})/,\n  \"regex_exclude\":/http[s]*:\\/\\/[wwww.]*twitter\\.com\\/([^\\/]{3,})\\/(status|followers_you_follow|following|followers)/\n}","// import Codebird from \"codebird\";\ndeclare function Codebird(): void;\n\nimport * as cfData from \"@crossfoam/data\";\nimport config from \"../config.js\";\n\n// Allow content_scripts to include the services module without codebird\nlet cb;\nif (typeof Codebird === \"function\") {\n  cb = new Codebird();\n  cb.setUseProxy(false);\n  cb.setConsumerKey(config.api_key, config.api_secret);\n}\n\nconst requestTokenKey = \"twitter--request-token\";\nconst authTokenKey = \"twitter--auth-token\";\n\nconst authRequired = (): Promise<boolean> => {\n  return cfData.get(authTokenKey)\n    .then((value) => {\n      if (value && value !== undefined && (\"oauth_token\" in value)) {\n        return testAuth(value);\n      } else {\n        return true;\n      }\n    });\n};\n\nconst asyncAuthRequired = async (): Promise<boolean> => {\n  const r = await authRequired();\n  return r;\n}\n\nconst testAuth = (data: any): Promise<boolean> => {\n  cb.setToken(data.oauth_token, data.oauth_token_secret);\n  return cb.__call(\n    \"account_verifyCredentials\",\n    {},\n  ).then((result) => {\n    if (\"reply\" in result &&\n        \"httpstatus\" in result.reply &&\n        result.reply.httpstatus === 200\n    ){\n      return false;\n    }\n    return true;\n  });\n};\n\nconst createOptions = (htmlContainer: HTMLElement) => {\n  authRequired()\n    .then((required) => {\n      if (required) {\n        htmlContainer.innerHTML = `<p>${browser.i18n.getMessage(\"servicesTwitterAuthorizeNote\")}</p><br /><button id='twitter--auth-button'>${browser.i18n.getMessage(\"servicesTwitterAuthorize\")}</button>`;\n        document.getElementById(\"twitter--auth-button\")\n          .addEventListener(\"click\", () => {\n            auth(htmlContainer);\n          });\n      } else {\n        htmlContainer.innerHTML = browser.i18n.getMessage(\"servicesTwitterAuthorized\");\n      }\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nconst cbCall = (endpoint: string, params: {}): Promise<any> => {\n  // TODO: Check if authentication is still valid, otherwise throw error\n  return cfData.get(authTokenKey)\n    .then((data) => {\n      cb.setToken(data.oauth_token, data.oauth_token_secret);\n      return cb.__call(endpoint, params);\n    });\n};\n\nconst cbErrorHandling = (result: any): string => {\n  if (\n    (\"errors\" in result.reply && result.reply.errors.length >= 1)\n    || \"error\" in result.reply\n  ) {\n\n    if ((\"errors\" in result.reply && result.reply.errors[0].message === \"Not authorized.\")\n       || result.reply.httpstatus === 401\n       || (\"errors\" in result.reply && \"code\" in result.reply.errors[0] && result.reply.errors[0].code === 89)\n       || (\"error\" in result.reply && result.reply.error === \"Not authorized.\")) {\n\n      let isAuthRequired = asyncAuthRequired();\n\n      if (isAuthRequired) {\n        return \"auth\";\n      } else {\n        return \"again\";\n      }\n\n    } else if (\"errors\" in result.reply && result.reply.errors[0].code === 88) {\n\n      return \"again\";\n\n    } else {\n\n      throw new Error(JSON.stringify(result));\n      return \"again\";\n\n    }\n  } else if (result.reply.httpstatus === 0) {\n\n    return \"again\";\n\n  } else {\n\n    return \"good\";\n\n  }\n\n};\n\n/*\n * The auth function handles the authentication, if required\n * If any interaction between the options page the authentication is required\n * the html_container element is a div, allowing the modul to embed interactions\n * The data object gives access to the data storage functionalities\n */\n\nconst auth = (htmlContainer: HTMLElement): Promise<boolean> => {\n  return cb.__call(\n    \"oauth_requestToken\",\n    {oauth_callback: \"oob\"},\n  )\n  .then((reply) => {\n    return cfData.set(requestTokenKey, reply.reply);\n  })\n  .then( (requestToken) => {\n    cb.setToken(requestToken.oauth_token, requestToken.oauth_token_secret);\n    return cb.__call(\n      \"oauth_authorize\",\n      {},\n    );\n  })\n  .then((authUrl) => {\n    return browser.tabs.create({url: authUrl.reply});\n  })\n  .then(() => {\n    // Modify the html add a click listener with connection to new function\n    htmlContainer.innerHTML = `<p>${browser.i18n.getMessage(\"servicesTwitterAuthorizeNote\")}</p><br />\\\n              <input \\\n                type='text' \\\n                placeholder='Twitter PIN' \\\n                id='twitter--auth-pin' />\\\n              <button \\\n                id='twitter--auth-button'>\\\n                ${browser.i18n.getMessage(\"servicesTwitterAuthorizeFinish\")}\\\n              </button>`;\n    document.getElementById(\"twitter--auth-button\")\n      .addEventListener(\"click\", () => {\n        const value = (document.getElementById(\"twitter--auth-pin\") as HTMLInputElement).value;\n        if (value && value.length === 7) {\n          auth2(htmlContainer, value);\n        } else {\n          alert(browser.i18n.getMessage(\"servicesTwitterAuthAlert\"));\n        }\n      });\n  });\n};\n\nconst auth2 = (htmlContainer: HTMLElement, pin: string) => {\n  return cb.__call(\n    \"oauth_accessToken\",\n    {oauth_verifier: pin},\n  ).then((reply) => {\n    cfData.set(authTokenKey, reply.reply);\n    htmlContainer.innerHTML = browser.i18n.getMessage(\"servicesTwitterAuthorized\");\n  });\n};\n\nconst getBiggerPicture = (url: string): string => {\n  const search = \"normal\";\n  const replace = \"bigger\";\n\n  const position = url.lastIndexOf(search);\n\n  if (position > 0) {\n    url = url.substr(0, position) +\n      replace +\n      url.substr(position + search.length);\n  }\n\n  return url;\n};\n\nconst getUser = (screenName: string, timestamp: number, uniqueID: string, queue: any): Promise<any> => {\n  return cbCall(\"users_show\", {\n    screen_name: screenName,\n  }).then((result) => {\n\n    const errorAnalysis = cbErrorHandling(result);\n\n    if (errorAnalysis === \"again\") {\n      queue.call(config.service_key + \"--getUser\", [\n        screenName,\n      ], timestamp, uniqueID);\n\n      return Promise.resolve();\n    } else if ( errorAnalysis === \"auth\") {\n      console.log(\"AAAAHHHHH auth me!\");\n    } else {\n\n      return cfData.get(`s--${config.service_key}--nw--${screenName}`, {})\n        .then((networkObject) => {\n          const nUuid = uniqueID;\n          networkObject[nUuid] = {\n            callCount: null,\n            completeCount: 0,\n            date: Date.now(),\n            lastUpdated: Date.now(),\n            screenName,\n            state: \"queuing\",\n          };\n          return cfData.set(`s--${config.service_key}--nw--${screenName}`, networkObject)\n            .then(() => {\n              return cfData.set(`s--${config.service_key}--a--${screenName}-${nUuid}--c`, {\n                followers_count: result.reply.followers_count,\n                friends_count: result.reply.friends_count,\n                handle: screenName,\n                id: result.reply.id_str,\n                image: getBiggerPicture(result.reply.profile_image_url_https),\n                name: result.reply.name,\n              });\n            })\n            .then(() => {\n              queue.call(config.service_key + \"--getFriendsIds\", [screenName, undefined, screenName, nUuid, -1],\n                    timestamp, uniqueID);\n              // queue.call(\"getFollowersIds\", [screenName, true, nUuid, -1]);\n              return Promise.resolve();\n            });\n        });\n    }\n  });\n};\n\n// The web extension does not support the scraping of protected accounts\n// This is implemented on privacy purpose to protect such accounts\nconst scrapeAble = (screenName: string, userId: string, centralNode: string, nUuid: string): Promise<boolean> => {\n  return cfData.get(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, {})\n    .then((nodes) => {\n      if (userId in nodes && !nodes[userId].protected) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n};\n\nconst getFriendsIds = (  screenName: string, userId: string, centralNode: string,\n                         nUuid: string, cursor: string,\n                         timestamp: number, uniqueID: string, queue: any): Promise<any> => {\n\n  // Check if this user is scrape-able\n  return scrapeAble(screenName, userId, centralNode, nUuid)\n    .then((isScrapeAble) => {\n\n      if (!isScrapeAble && screenName !== centralNode) {\n\n        return Promise.resolve();\n\n      } else {\n\n        const params = {\n          count: 5000,\n          cursor,\n          stringify_ids: true,\n        };\n\n        if (userId === null || userId === undefined || !userId) {\n          Object.assign(params, {screen_name: screenName});\n        } else {\n          Object.assign(params, {user_id: userId});\n        }\n\n        return cbCall(\"friends_ids\", params).then((result) => {\n\n          const errorAnalysis = cbErrorHandling(result);\n\n          if (errorAnalysis === \"again\") {\n            queue.call(config.service_key + \"--getFriendsIds\", [\n              screenName, userId, centralNode,\n              nUuid, cursor,\n            ], timestamp, uniqueID);\n\n            return Promise.resolve();\n          } else if ( errorAnalysis === \"auth\") {\n            console.log(\"AAAAHHHHH auth me!\");\n          } else {\n\n            if (result.reply.ids === null) {\n\n              // So far not able to figure this out\n              queue.call(config.service_key + \"--getFriendsIds\", [\n                screenName, userId, centralNode,\n                nUuid, cursor,\n              ], timestamp, uniqueID);\n\n              return Promise.resolve();\n            } else {\n\n              return cfData.get(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, {})\n                .then((nodes) => {\n                  if (screenName === centralNode) {\n                    const newNodes = {};\n                    result.reply.ids.forEach( (id) => {\n                      newNodes[id] = {\n                        followers: [],\n                        followers_count: 0,\n                        friends: [],\n                        friends_count: 0,\n                        handle: null,\n                        image: null,\n                        name: null,\n                      };\n                    });\n\n                    Object.assign(nodes, newNodes);\n                  } else {\n                    // make sure we don't have duplicates in here...\n                    result.reply.ids.forEach((newNode) => {\n                      if (nodes[userId].friends.indexOf(newNode) === -1) {\n                        nodes[userId].friends.push(newNode);\n                      }\n                    });\n                  }\n                  return cfData.set(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, nodes);\n                })\n                .then((savedData) => {\n                  if (result.reply.next_cursor_str && result.reply.next_cursor_str !== \"0\"\n                      && result.reply.next_cursor_str !== 0\n                      // LIMIT the number of friends of friends to 20.000\n                      // TODO: move to configs\n                      && savedData[userId].friends.length < 20000) {\n\n                    queue.call(config.service_key + \"--getFriendsIds\", [\n                      screenName, userId, centralNode,\n                      nUuid, result.reply.next_cursor_str,\n                    ], timestamp, uniqueID);\n\n                    return Promise.resolve();\n                  } else {\n                    queue.call(\"network--estimateCompletion\", [config.service_key, centralNode, nUuid],\n                      timestamp, uniqueID);\n\n                    if (centralNode === screenName) {\n                      queue.call(config.service_key + \"--getFriends\", [screenName, userId, centralNode, nUuid, -1],\n                            timestamp, uniqueID);\n                      return cfData.get(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, {})\n                        .then((nodes) => {\n                          Object.keys(nodes).forEach((id) => {\n                            queue.call(config.service_key + \"--getFriendsIds\", [undefined, id, centralNode, nUuid, -1],\n                                  timestamp, uniqueID);\n                          });\n                          return Promise.resolve();\n                        });\n                    } else {\n                      return Promise.resolve();\n                    }\n                  }\n                });\n            }\n          }\n        });\n\n      }\n\n    });\n};\n\nconst getFriends = (  screenName: string, userId: string, centralNode: string,\n                      nUuid: string, cursor: string,\n                      timestamp: number, uniqueID: string, queue: any): Promise<any> => {\n\n  // Check if this user is scrape-able\n  return scrapeAble(screenName, userId, centralNode, nUuid)\n    .then((isScrapeAble) => {\n\n      if (!isScrapeAble && screenName !== centralNode) {\n\n        return Promise.resolve();\n\n      } else {\n\n        const params = {\n          count: 200,\n          cursor,\n          include_user_entities: false,\n          skip_status: true,\n        };\n\n        if (userId === null || userId === undefined || !userId) {\n          Object.assign(params, {screen_name: screenName});\n        } else {\n          Object.assign(params, {user_id: userId});\n        }\n\n        return cbCall(\"friends_list\", params).then((result) => {\n\n          const errorAnalysis = cbErrorHandling(result);\n\n          if (errorAnalysis === \"again\") {\n            queue.call(config.service_key + \"--getFriends\", [\n              screenName, userId, centralNode,\n              nUuid, cursor,\n            ], timestamp, uniqueID);\n            return Promise.resolve();\n          } else if ( errorAnalysis === \"auth\") {\n            console.log(\"AAAAHHHHH auth me!\");\n          } else {\n\n            return cfData.get(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, {})\n              .then((nodes) => {\n\n                result.reply.users.forEach((user) => {\n                  if (user.id_str  in nodes) {\n                    nodes[user.id_str].name = user.name;\n                    nodes[user.id_str].handle = user.screen_name;\n                    nodes[user.id_str].followers_count = user.followers_count;\n                    nodes[user.id_str].friends_count = user.friends_count;\n                    nodes[user.id_str].handle = user.screen_name;\n                    nodes[user.id_str].image = getBiggerPicture(user.profile_image_url_https);\n                    nodes[user.id_str].protected = user.protected;\n                  }\n                });\n\n                return cfData.set(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, nodes);\n\n              })\n              .then(() => {\n                if (result.reply.next_cursor_str && result.reply.next_cursor_str !== \"0\"\n                    && result.reply.next_cursor_str !== 0) {\n                  queue.call(config.service_key + \"--getFriends\",\n                     [screenName, userId, centralNode, nUuid, result.reply.next_cursor_str],\n                     timestamp, uniqueID);\n                } else {\n                  queue.call(\"network--estimateCompletion\", [config.service_key, centralNode, nUuid]);\n                }\n                return Promise.resolve();\n              });\n          }\n        });\n      }\n    });\n};\n\nconst getUsers = (  centralNode: string, nUuid: string,\n                    timestamp: number, uniqueID: string, queue: any): Promise<any> => {\n\n  return Promise.all([\n    cfData.get(`s--${config.service_key}--a--${centralNode}-${nUuid}--nw`, {proxyKeys: []}),\n    cfData.get(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, {}),\n  ]).then((data) => {\n    const query = [];\n    const limit = 100;\n    let more = false;\n\n    // TODO: this should be relative to the overall size of the core-network\n    const proxySizeLimit = 5;\n\n    Object.keys(data[0].proxyKeys).forEach((proxy) => {\n      if (!(proxy in data[1]) && data[0].proxies[data[0].proxyKeys[proxy]][5] > proxySizeLimit) {\n        if (query.length < limit) {\n          query.push(proxy);\n        } else {\n          more = true;\n        }\n      }\n    });\n\n    if (query.length > 0) {\n      const params = {\n        user_id: query.join(\",\"),\n      };\n\n      return cbCall(\"users_lookup\", params).then((result) => {\n\n        const errorAnalysis = cbErrorHandling(result);\n\n        if (errorAnalysis === \"again\") {\n          queue.call(config.service_key + \"--getUsers\", [\n            centralNode, nUuid,\n          ], timestamp, uniqueID);\n          return Promise.resolve();\n        } else if ( errorAnalysis === \"auth\") {\n          console.log(\"AAAAHHHHH auth me!\");\n        } else {\n\n          result.reply.forEach((user) => {\n            if (! (user.id_str in data[1])) {\n              data[1][user.id_str] = {};\n            }\n\n            data[1][user.id_str].name = user.name;\n            data[1][user.id_str].followers_count = user.followers_count;\n            data[1][user.id_str].friends_count = user.friends_count;\n            data[1][user.id_str].handle = user.screen_name;\n            data[1][user.id_str].image = getBiggerPicture(user.profile_image_url_https);\n            data[1][user.id_str].protected = user.protected;\n          });\n\n          // Some IDs will not return any results, because they are protected\n          query.forEach((proxyId) => {\n            if (! (proxyId in data[1])) {\n              data[1][proxyId] = {};\n            }\n          });\n\n          return cfData.set(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`, data[1])\n            .then((savedData) => {\n              if (more && queue) {\n\n                queue.call(config.service_key + \"--getUsers\",\n                   [centralNode, nUuid],\n                   timestamp, uniqueID);\n\n              } else {\n\n                queue.call(\"network--cleanupNetwork\",\n                   [config.service_key, centralNode, nUuid],\n                   timestamp, uniqueID);\n\n                Promise.resolve();\n              }\n            });\n        }\n      });\n\n    } else {\n      queue.call(\"network--cleanupNetwork\",\n        [config.service_key, centralNode, nUuid],\n        timestamp, uniqueID);\n\n      return Promise.resolve();\n    }\n\n  });\n};\n\n// TODO: Is this still being used??\nconst removeNetwork = (centralNode: string, nUuid: string): Promise<any> => {\n  return cfData.get(`s--${config.service_key}--nw--${centralNode}`)\n    .then((networkData) => {\n      delete networkData[nUuid];\n      return cfData.set(`s--${config.service_key}--nw--${centralNode}`, networkData)\n        .then(() => {\n          return Promise.all([\n              cfData.remove(`s--${config.service_key}--a--${centralNode}-${nUuid}--c`),\n              cfData.remove(`s--${config.service_key}--a--${centralNode}-${nUuid}--n`),\n            ]);\n        });\n    });\n};\n\nexport { auth, authRequired, config, createOptions, getFriends, getFriendsIds, getUser, getUsers, removeNetwork };\n","import { objEmpty } from \"@crossfoam/utils\";\n\nconst get = (key: string, defaultValue?: any): Promise<any> => {\n\n  return browser.storage.local.get(key)\n    .then( (data: object) => {\n      if (data && data !== null && data !== undefined && !objEmpty(data)) {\n        if (key in data) {\n          return data[key];\n        }\n        return data;\n      } else if (defaultValue) {\n        return set(key, defaultValue);\n      } else {\n        return null;\n      }\n    });\n\n};\n\nconst set = (key: string, value: any): Promise<any> => {\n  return browser.storage.local.set({[key]: value})\n    .then(() => {\n      if (key in value) {\n        return value[key];\n      }\n      return value;\n    });\n};\n\nconst remove = (key: string): Promise<any> => {\n  return browser.storage.local.remove(key);\n};\n\nexport {get, remove, set};\n","const throttle = (t: number) => {\n  return new Promise((resolve) => {\n      setTimeout(resolve, t);\n  });\n};\n\n// inspired by uuid v4 (shortened) https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n\n/* tslint:disable:no-bitwise */\nconst uuid = (): string => {\n  return \"xxxxxxxx\".replace(/[xy]/g, (c) => {\n    const r = Math.random() * 16 | 0;\n    const v = c === \"x\" ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\n/* tslint:enable:no-bitwise */\n\nconst formatDate = (date: Date, withTime: boolean = false) => {\n  // TODO: Language based formatting of dates\n  const lang: string = \"en\";\n  switch (lang) {\n    case \"de\":\n      return dateNull(date.getDate())\n        + \".\" + dateNull((date.getMonth() + 1))\n        + \".\" + dateNull(date.getFullYear())\n        + ((withTime) ? \" \" + dateNull(date.getHours()) + \":\" + dateNull(date.getMinutes()) : \"\");\n      break;\n    default:\n      return dateNull(date.getFullYear())\n        + \"/\" + dateNull((date.getMonth() + 1))\n        + \"/\" + dateNull(date.getDate())\n        + ((withTime) ? \" \" + dateNull(date.getHours()) + \":\" + dateNull(date.getMinutes()) : \"\");\n      break;\n  }\n};\n\nconst dateNull = (num: number): string => {\n  return (num < 10) ? \"0\" + num : \"\" + num;\n};\n\nconst cleanNumber = (duration: number) => {\n  if (duration === Math.floor(duration)) {\n    return duration;\n  } else if ( parseFloat(duration.toFixed(1)) === parseFloat(duration.toFixed(2))) {\n    return duration.toFixed(1);\n  } else {\n    return duration.toFixed(2);\n  }\n};\n\nconst formatDuration = (duration: number) => {\n  duration = duration / 1000;\n  if (duration < 60) {\n    return Math.floor(duration) +\n      \" \" + browser.i18n.getMessage(\"secondsShort\");\n  } else {\n    duration = duration / 60;\n    if (duration < 60) {\n      return cleanNumber(duration) +\n        \" \" + browser.i18n.getMessage(\"minutesShort\");\n    } else {\n      duration = duration / 60;\n      if (duration < 24) {\n        return cleanNumber(duration) +\n          \" \" + browser.i18n.getMessage(\"hoursShort\");\n      } else {\n        duration = duration / 24;\n        return cleanNumber(duration) +\n          \" \" + browser.i18n.getMessage(\"daysShort\");\n      }\n    }\n  }\n};\n\nconst objEmpty = (obj) => {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          return false;\n        }\n    }\n    return true;\n};\n\nconst downloadFile = (fileData: string, fileType: string,\n                      fileName: string): Promise<any> => {\n\n  const file = new Blob([fileData], {\n    type: fileType,\n  });\n\n  return browser.downloads.download({\n      // window.URL ??\n      filename: fileName,\n      saveAs: true,\n      url: URL.createObjectURL(file),\n    }).then((downloadId) => {\n      return Promise.resolve();\n    }).catch((error) => {\n      throw new Error(\"Download failed. \" + JSON.stringify(error));\n    });\n};\n\nconst debounce = ( func: (...args: any[]) => void,\n                   wait: number = 200,\n                   immediate: boolean = false,\n): (...args: any[]) => void => {\n\n  let timeout = null;\n  let again = false;\n\n  return (...args: any[]) => {\n    const callNow = immediate && timeout === null;\n    const next = () => func.apply( null , args );\n\n    if (timeout === null) {\n      timeout = setTimeout( () => {\n        timeout = null;\n        if ( again ) {\n          next();\n          again = false;\n        }\n      }, wait );\n    } else {\n      again = true;\n    }\n\n    if (callNow) {\n      next();\n    }\n  };\n};\n\nexport {debounce, downloadFile, formatDate, formatDuration, objEmpty, throttle, uuid};\n","import * as cfData from \"@crossfoam/data\";\nimport * as cfTwitter from \"@crossfoam/service-twitter\";\n\nconst services = {\n  [cfTwitter.config.service_key]: cfTwitter,\n};\n\nconst identifyService = (url: string): [string, string] => {\n  let found = null;\n  Object.keys(services).forEach((service) => {\n    const match = url.match(services[service].config.regex);\n    if (match !== null) {\n      const excludeMatch = url.match(services[service].config.regex_exclude);\n      if (excludeMatch === null) {\n        found = [service, match[1]];\n      }\n    }\n  });\n\n  return found;\n};\n\nconst getScrapes = (): Promise<any> => {\n  return Promise.all(\n    Object.keys(services).map(\n      (service) => cfData.get(`s--${service}--u`, []),\n    ),\n  )\n  .then((screenNamesList) => {\n    return Promise.all(\n      screenNamesList.map(\n        (screenNames, i) => Promise.all(\n          screenNames.map(\n            (screenName) => cfData.get(`s--${Object.keys(services)[i]}--nw--${screenName}`, {}),\n          ),\n        ),\n      ),\n    )\n    .then((networkDatas) => {\n\n      const scrapes = [];\n\n      networkDatas.forEach((networkData, serviceID) => {\n        networkData.forEach((screenNameNetworkData, screenNameID) => {\n          Object.keys(screenNameNetworkData).forEach((scrapeID) => {\n            scrapes.push({\n              callCount: screenNameNetworkData[scrapeID].callCount,\n              completeCount: screenNameNetworkData[scrapeID].completeCount,\n              completed: screenNameNetworkData[scrapeID].completed,\n              date: screenNameNetworkData[scrapeID].date,\n              nUuid: scrapeID,\n              screenName: screenNamesList[serviceID][screenNameID],\n              service: Object.keys(services)[serviceID],\n            });\n          });\n        });\n      });\n\n      return scrapes;\n\n    });\n  });\n};\n\nexport { services, identifyService, getScrapes };\n","import { objEmpty } from \"@crossfoam/utils\";\n\nconst get = (key: string, defaultValue?: any): Promise<any> => {\n\n  return browser.storage.local.get(key)\n    .then( (data: object) => {\n      if (data && data !== null && data !== undefined && !objEmpty(data)) {\n        if (typeof data === \"object\" && key in data) {\n          return data[key];\n        }\n        return data;\n      } else if (defaultValue) {\n        return set(key, defaultValue);\n      } else {\n        return null;\n      }\n    });\n\n};\n\nconst set = (key: string, value: any): Promise<any> => {\n  return browser.storage.local.set({[key]: value})\n    .then(() => {\n      if (typeof value === \"object\" && key in value) {\n        return value[key];\n      }\n      return value;\n    });\n};\n\nconst remove = (key: string): Promise<any> => {\n  return browser.storage.local.remove(key);\n};\n\nexport {get, remove, set};\n","const throttle = (t: number) => {\n  return new Promise((resolve) => {\n      setTimeout(resolve, t);\n  });\n};\n\n// inspired by uuid v4 (shortened) https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n\n/* tslint:disable:no-bitwise */\nconst uuid = (): string => {\n  return \"xxxxxxxx\".replace(/[xy]/g, (c) => {\n    const r = Math.random() * 16 | 0;\n    const v = c === \"x\" ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\n/* tslint:enable:no-bitwise */\n\nconst formatDate = (date: Date, withTime: boolean = false) => {\n  // TODO: Language based formatting of dates\n  const lang: string = \"en\";\n  switch (lang) {\n    case \"de\":\n      return dateNull(date.getDate())\n        + \".\" + dateNull((date.getMonth() + 1))\n        + \".\" + dateNull(date.getFullYear())\n        + ((withTime) ? \" \" + dateNull(date.getHours()) + \":\" + dateNull(date.getMinutes()) : \"\");\n      break;\n    default:\n      return dateNull(date.getFullYear())\n        + \"/\" + dateNull((date.getMonth() + 1))\n        + \"/\" + dateNull(date.getDate())\n        + ((withTime) ? \" \" + dateNull(date.getHours()) + \":\" + dateNull(date.getMinutes()) : \"\");\n      break;\n  }\n};\n\nconst dateNull = (num: number): string => {\n  return (num < 10) ? \"0\" + num : \"\" + num;\n};\n\nconst cleanNumber = (duration: number) => {\n  if (duration === Math.floor(duration)) {\n    return duration;\n  } else if ( parseFloat(duration.toFixed(1)) === parseFloat(duration.toFixed(2))) {\n    return duration.toFixed(1);\n  } else {\n    return duration.toFixed(2);\n  }\n};\n\nconst formatDuration = (duration: number) => {\n  duration = duration / 1000;\n  if (duration < 60) {\n    return Math.floor(duration) +\n      \" \" + browser.i18n.getMessage(\"secondsShort\");\n  } else {\n    duration = duration / 60;\n    if (duration < 60) {\n      return cleanNumber(duration) +\n        \" \" + browser.i18n.getMessage(\"minutesShort\");\n    } else {\n      duration = duration / 60;\n      if (duration < 24) {\n        return cleanNumber(duration) +\n          \" \" + browser.i18n.getMessage(\"hoursShort\");\n      } else {\n        duration = duration / 24;\n        return cleanNumber(duration) +\n          \" \" + browser.i18n.getMessage(\"daysShort\");\n      }\n    }\n  }\n};\n\nconst objEmpty = (obj) => {\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          return false;\n        }\n    }\n    return true;\n};\n\nconst downloadFile = (fileData: string, fileType: string,\n                      fileName: string): Promise<any> => {\n\n  const file = new Blob([fileData], {\n    type: fileType,\n  });\n\n  return browser.downloads.download({\n      // window.URL ??\n      filename: fileName,\n      saveAs: true,\n      url: URL.createObjectURL(file),\n    }).then((downloadId) => {\n      return Promise.resolve();\n    }).catch((error) => {\n      throw new Error(\"Download failed. \" + JSON.stringify(error));\n    });\n};\n\nconst debounce = ( func: (...args: any[]) => void,\n                   wait: number = 200,\n                   immediate: boolean = false,\n): (...args: any[]) => void => {\n\n  let timeout = null;\n  let again = false;\n\n  return (...args: any[]) => {\n    const callNow = immediate && timeout === null;\n    const next = () => func.apply( null , args );\n\n    if (timeout === null) {\n      timeout = setTimeout( () => {\n        timeout = null;\n        if ( again ) {\n          next();\n          again = false;\n        }\n      }, wait );\n    } else {\n      again = true;\n    }\n\n    if (callNow) {\n      next();\n    }\n  };\n};\n\nexport {debounce, downloadFile, formatDate, formatDuration, objEmpty, throttle, uuid};\n","import * as cfData from \"@crossfoam/data\";\nimport { services } from \"@crossfoam/services\";\n\nconst translates = [\n  [\"settings--title\", \"settings\"],\n  [\"settings--serviceTitle\", \"services\"],\n  [\"settings--clusterTitle\", \"settingsClusterTitle\"],\n  [\"settings--clusterDescription\", \"settingsClusterDescription\"],\n  [\"settings--clusterNote\", \"settingsClusterNote\"],\n  [\"settings--clusterSwitch1\", \"settingsClusterSwitch1\"],\n  [\"settings--clusterSwitch2\", \"settingsClusterSwitch2\"],\n];\n\ntranslates.forEach((t: [string, string]) => {\n  document.querySelector(\"#\" + t[0]).innerHTML = browser.i18n.getMessage(t[1]);\n});\n\nObject.keys(services).forEach((serviceKey) => {\n\n    document.getElementById(\"options--services\").innerHTML = `<div class='services--service-container'>\\\n        <h3>${services[serviceKey].config.service_name}</h3>\\\n        <div id='services--service-${serviceKey}'></div>`;\n\n    services[serviceKey].createOptions(document.getElementById(`services--service-${serviceKey}`));\n\n});\n\ncfData.get(\"config--siteAnalysis\", \"true\")\n  .then((state) => {\n    const checkbox: HTMLInputElement = document.getElementById(\"siteAnalysis\") as HTMLInputElement;\n    if (state === \"false\") {\n      checkbox.checked = false;\n    } else {\n      checkbox.checked = true;\n    }\n    checkbox.addEventListener( \"change\", () => {\n      if (checkbox.checked) {\n        cfData.set(\"config--siteAnalysis\", \"true\");\n      } else {\n        cfData.set(\"config--siteAnalysis\", \"false\");\n      }\n    });\n  });\n\ncfData.get(\"config--showLabels\", \"true\")\n  .then((state) => {\n    const checkbox: HTMLInputElement = document.getElementById(\"showLabels\") as HTMLInputElement;\n    if (state === \"false\") {\n      checkbox.checked = false;\n    } else {\n      checkbox.checked = true;\n    }\n    checkbox.addEventListener( \"change\", () => {\n      if (checkbox.checked) {\n        cfData.set(\"config--showLabels\", \"true\");\n      } else {\n        cfData.set(\"config--showLabels\", \"false\");\n      }\n    });\n  });\n"],"sourceRoot":""}